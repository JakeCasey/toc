<html>
  <head>
    <title>Changing the Sky</title>
    <script src="https://aframe.io/releases/0.6.1/aframe.min.js"></script>
    <script>
      AFRAME.registerComponent('button-interaction-handler', {
        init: function() {
          var skyEl = this.el.sceneEl.querySelector('#background');

          this.el.addEventListener('mouseenter', function() {
            if (this.el.getAttribute('value') == 'Trip to Paris') {
              this.el.setAttribute('value', 'Go back home!');
              skyEl.setAttribute('src', '#paris');
            } else {
              this.el.setAttribute('value', 'Trip to Paris');
              skyEl.setAttribute('src', '#home');
            }
          });

          // this.el.addEventListener('mouseleave', function() {
          //   skyEl.setAttribute('src', '#home');
          // });
        },
      });
    </script>
  </head>
  <body>
    <a-scene>
      <a-assets>
        <img id="home" crossorigin="anonymous" src="./test.png" />
        <img id="paris" crossorigin="anonymous" src="./paris.jpg" />
      </a-assets>

      <a-sky id="background" src="#home"></a-sky>

      <!--
        Since this is inside the plane, the text position is relative to the plane's position
        If we use the property align wisely, we don't need to experiment with position.
      -->
      <a-plane
        button-interaction-handler
        position="3 3 -9"
        height="2"
        width="5"
        color="#E21D2D"
        position="0 0 -4"
      >
        <a-text value="Trip to Paris" scale="2 2 2" align="center"></a-text>
      </a-plane>

      <!-- Camera and Cursor. -->
      <a-camera>
        <a-cursor color="#11D8C4" fuse="true" timeout="10"></a-cursor>
      </a-camera>

      <!-- Controllers. -->
      <a-entity laser-controls="hand: right"></a-entity>
    </a-scene>
  </body>
</html>
